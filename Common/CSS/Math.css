

/* bits and pieces */



/* Overbar (vinculum) drawn independent of line-height */
.vinculum {
    display: inline-block;
    border-top: 2px solid black;
    padding-top: 2px;         /* headroom so scripts don’t graze the bar */
}



.subscriptContainer {
    display: inline;
    text-align: center;
    vertical-align: middle;

    /* canaries */
    border-color:lavenderblush;
}


.subscript {
    display: inline;
    vertical-align: -0.75em;  /* descent; tweak to taste */
    font-size: 0.7em;
}


.superscriptContainer {
    display: inline;
    text-align: center;
    vertical-align: 0em;

    /* canaries */
    border-color: lavenderblush;
}


.superscript {
    display: inline;
    vertical-align: 1em;  /* ascent; tweak to taste */
    font-size: 0.7em;
}

.vinculum .superscript{
    vertical-align: top;
    font-size:0.6em;
}

.brace .superscript{
    vertical-align: top;
    font-size:0.6em;
}

.superscriptAfterBrace{
    vertical-align: top;
}


.SVGsymbol {
    display: inline-flex;     /* flex to stretch the SVG */
}

.SVGsymbolPlusVinculumContainer{
    display: inline-grid;
    grid-template-columns:auto auto;
    align-items: stretch;
    vertical-align: middle;
}

.rangeContainer{
    display:inline-grid;
    grid-template-areas:
        "to   exp"
        "sym  exp"
        "from exp";
    grid-template-columns: auto 1fr;


}

.rangeFromExpression{
    grid-area: from;
    font-size:0.6em;
}

.rangeSymbol{
    grid-area: sym;
}

.rangeToExpression{

    grid-area: to;
    font-size:0.6em;

}

.rangeMainExpression{
    display:inline;
    grid-area: exp;
    align-self:center;
    vertical-align: middle;
    background:yellow !important;

}


/******************************************************
 * SUPERSCRIPTS / SUBSCRIPTS
 ******************************************************/
/*
.superscript {
    display: inline-flex;     /* works well with vertical-align: top 
    vertical-align: top;      /* higher after tall bases 
    font-size: 0.75em;        /* script size 
    line-height: 1;           /* avoid extra leading inside the script 
    margin: 0;
    padding: 0;
    margin-left: 0;           /* keep close to base; parser controls spacing 
}


*/



.primitive {
    display: inline;
    text-align: center;
    vertical-align: middle;
    background: transparent;
    margin: 0px;
    padding: 3px;          /* tiny horizontal breathing room */
    font-size: inherit;      /* obey container sizing */
}

.operator{
    display: inline;
    text-align: center;
    vertical-align: middle;
    background: transparent;
    margin: 0px;
    padding: 3px;          /* tiny horizontal breathing room */
    font-size: inherit; 
}


/* Braces */
.brace {
    display: inline-block;
    text-align: center;
    width:fit-content;
    align-items:center;
    margin: 0;
    border: 0;

    border-width: 0px;
    border-style: solid;
    border-color: black;
    border-left-width: 2px;
    border-right-width: 2px;
    border-radius: 0.333em;
    padding: 0.1em 0.1em;
    margin: 0.1em 0.1em;
}

.invisibleBrace {
    display: inline;
    text-align: center;
    vertical-align: middle;
}



.prefixContainer {
    display: inline-block;
    align-items: center;
    margin:0px;
    padding:0px;
}

.postfixContainer {
    display: inline-block;
    align-items: center;
    margin:0px;
    padding:0px;
}

.postfix{
    margin:0px;
    padding:0px;
}



.timesDivide
{
    display: inline;
    text-align: center;
    vertical-align: baseline;
    background: transparent;

    font-size: 1em;          /* baseline size for contained tokens */

}

/*
.dividingLine {
    display: inline-block;
    border-top-width: 5px;
    border-top-style:solid;
    border-top-color:yellow;
    justify-self: stretch;
    vertical-align: baseline;
    background: black;
    height: 5px;
    padding: 1px 5px;       /* thickness via padding; easy to tune *//*
    margin: 2px 3px;
    font-size: 1em;
    background:black;
}


.firstDivide {
    display: inline-grid;
    grid-template-columns: 1fr;
    grid-template-rows: auto auto;
    justify-items: center;
    justify-self: stretch;
    
    text-align: center;
    align-content:center;
    align-items: last baseline;
    margin: 0;
    padding: 0px;
    font-size: 1em;

    /* canaries *//*

    border-color:  darkblue;
}


.divide {
    display: inline-grid;
    grid-template-rows: auto auto; 
    justify-items: center;
    vertical-align: bottom;
    text-align: center;
    align-content:center;
    align-items: first baseline;
    margin: 0;
    padding: 0px;
    font-size: 1em;

    /* canaries *//*
    justify-self: stretch;
    border-color:  darkblue;
    background:lightpink;
}

*/




.divideContainer {
    display: inline-grid;
    grid-template-columns: auto;
    row-gap: 0px;
    grid-template-rows:auto auto auto;
    justify-items: center;
    place-content: end;
    align-items: last baseline;
    vertical-align: baseline;
    align-self: center;
}


.numeratorContainer{
    display:block;
    padding:0px;
    margin:0px;
    justify-self: stretch;
}

.numerator{
    display:block;
    font-size:2em;
}

.dividingLine{
    display:block;
    background:black;
    color:transparent;
    height:2px;
    padding:0px;
    margin:0px;
    justify-self: stretch;
}

/* creates a glyph-like baseline without any visible character */
.dividingLine::after {
  content: "";                    /* required to generate the box */
  display: inline-block;          /* inline-level => has a baseline */
  width: 0;                       /* zero width, so it doesn't affect measure */
  height: var(--baseline-shim, 9px); /* this sets where the baseline sits */
  user-select: none;
  pointer-events: none;
}

.denominator {
    display:block;
    text-align:center;
    font-size:3em;
    
}





.impliedTimes {
    display: inline;
    text-align: center;
    vertical-align: baseline;
    margin: 0;
    padding: 0 1px;
    font-size: 1em;

    /* canaries */
    border-color:lightsalmon;
}


.addSubtract
{
    display: inline;
    vertical-align: baseline;
    text-align: center;
    background: transparent;

    font-size: 1em;          /* baseline size for contained tokens */

    /* canaries */

    border-color:greenyellow;
}



.expression {
    display:inline;
    font-family:
        "STIX Two Math",
        "STIX Two Text",
        "Cambria Math",
        "Latin Modern Math",
        "DejaVu Serif",
        serif;

    line-height: 1;                 /* tighter vertical box */
    vertical-align: baseline;

    /* canaries */
    border-color: red;
}


.expressions {
    font-family:
        "STIX Two Math",
        "STIX Two Text",
        "Cambria Math",
        "Latin Modern Math",
        "DejaVu Serif",
        serif;

    line-height: 1;                 /* tighter vertical box */
    font-variant-numeric: lining-nums;
    vertical-align: baseline;

    /* canaries */
    border-color:  orange;
}



/* Keep descendants inheriting the family; prevents stray resets */
.expressions *, .expression * {
    font-family: inherit;
    text-align: center;
}


/*Inline SVG (roots, etc.) doesn’t inherit from HTML by default */
.expressions svg, .expression svg {
    font-family: inherit;
}






.card {
    display: inline-block;
    width:fit-content;
    text-align: center;
    vertical-align: middle;
    width: fit-content;
    margin: 0 0 5ch 0;
    padding: 2ch 4ch;
    font-size: 2em;
    border:none;
    border-radius: 0.5ch;
    box-shadow: 3px 3px 15px rgba(0,0,0,0.5);
    background: rgb(255,255,245);
}

.legend {
    background: transparent;
    font-size: 1em;
    font-weight: bold;
    line-height: 1.5;
    color: rgba(125,62,0,0.75);
}

.legend:first-child {
    margin-top: 2ch;
}


/* CANARIES FOR DEBUGGING */

/*
.expression, .expressions, .addSubtract, .timesDivide, .divide, .impliedTimes,
.prefixContainer, .postfixContainer, .subscriptContainer, .superscriptContainer{
    border-width: 3px;
    border-style: solid;
    margin:0px;
    padding:3px;
}
*/


/*
.superscriptContainer{
    vertical-align: middle !important;
}



.primitive{
    display:inline !important;
}


*/

/*
.superscript{

    vertical-align: top !important;
}
*/

